'use strict';

var nconf = require('nconf');
var path = require('path');
var jsonPath = path.resolve(__dirname,"./config/user.json");

nconf.file('userSetting',jsonPath);

function init() {
	nconf.set("ui:theme","light");
	nconf.save(function(err) {
		if (err) {
			console.log(err);
		} else {
			console.log("done", nconf.stores);
		}
	})
}


// init();

function setTheme(theme) {
	set("ui:theme",theme);
}

function getTheme() {
	return get("ui:theme");
}

function setFullScreen(bool) {
	set("ui:fullScreen",bool);
}

function getFullScreen() {
	return get("ui:fullScreen");
}

function get(key) {
	return nconf.file('userSetting',jsonPath).get(key);
}

function set(key,value) {
	nconf.file('userSetting',jsonPath).set(key,value);
	nconf.save();
}

module.exports.setTheme = setTheme;
module.exports.getTheme = getTheme;
module.exports.setFullScreen = setFullScreen;
module.exports.getFullScreen = getFullScreen;
module.exports.get = get;
module.exports.set = set;

